<button class="common-btn" type="button" (click)="goBack()">
    <span class="big-arrow">&#8592;</span>
</button>
<h2 class="create-headline">Create Truck</h2>

<form class="material-form" [formGroup]="form" (ngSubmit)="onSubmit()">

    <div class="input-group">
        <label>
            Registration:
            <input class="material-input" formControlName="registrationNumber" required maxlength="20" />
        </label>
        <div *ngIf="registrationNumber?.invalid && registrationNumber?.touched" class="validation-error">
            <span *ngIf="registrationNumber?.errors?.['required']">Registration is required.</span>
            <span *ngIf="registrationNumber?.errors?.['maxlength']">Max 20 chars allowed.</span>
        </div>
    </div>

    <div class="input-group">
        <label>
            Model:
            <input class="material-input" formControlName="model" required maxlength="30" />
        </label>
        <div *ngIf="model?.invalid && model?.touched" class="validation-error">
            <span *ngIf="model?.errors?.['required']">Model is required.</span>
            <span *ngIf="model?.errors?.['maxlength']">Max 30 chars allowed.</span>
        </div>
    </div>

    <div class="input-group">
        <label>
            Capacity:
            <input class="material-input" type="number" min="1" formControlName="capacity" required />
        </label>
        <div *ngIf="capacity?.invalid && capacity?.touched" class="validation-error">
            <span *ngIf="capacity?.errors?.['required']">Capacity is required.</span>
            <span *ngIf="capacity?.errors?.['min']">Capacity must be positive.</span>
        </div>
    </div>

    <button class="submit-btn" type="submit" [disabled]="form.invalid || loading">Create</button>
    <span class="error-text" *ngIf="error">{{ error }}</span>
</form>